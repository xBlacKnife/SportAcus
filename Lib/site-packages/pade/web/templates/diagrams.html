{% include 'header.html' %}

<head>
    <style>
        .btn-primary {
            display: inline-block;
            float: right;
            margin: 10px;
        }
    </style>
</head>

<body>

{% block content %}

<div class="container">

    <form action="/messages" method="post" style="margin-bottom: 10px">
        <button type="submit" class="btn btn-primary">Messages View</button>
    </form>

    <div class="row">
        <h2>Messages Diagram</h2>
    </div>


    <div class="row" id="diagram">
        <!-- The diagram will be rendered via AJAX -->
    </div>

</div>

{% endblock %}

</body>

<script type="text/javascript">
    $(document).ready(function () {
        refreshTable();
    });

    function refreshTable() {
        $('#diagram').load('/messages_diagram', function () {
            setTimeout(refreshTable, 5000);
        });
    }
</script>

{% include 'footer.html' %}